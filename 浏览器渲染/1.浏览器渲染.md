# 进程与线程:

    1.线程不能单独存在，线程是由进程启动管理。
    2.进程中的任意线程执行出错，会导致进程崩溃
    3.线程间可以共享进程中的数据
    4.进程关闭操作系统会回收进程所占用的内存
    5.进程间数据隔离（进程间的通信IPC）



## 单进程浏览器
    单进程浏览器（2007年之前）不稳定、不流畅、不安全

    不稳定： 早期的浏览器需要插件实现web视频、游戏等功能。但是插件一般容易出问题，插件运行再浏览器的进程，插件崩溃浏览器崩溃。有一个页面崩溃，浏览器崩溃

    不流畅： 同一时间只能有一个模块执行,还会内存泄漏

    不安全： 插件使用c/c++可以获取操作系统的资源，脚本获取系统权限操作电脑。


## 多进程浏览器

    稳定： 进程间相互隔离使用IPC通信，单个进程崩溃不影响其它进程。

    流畅： 多进程间不互相影响，都在自己的渲染进程中进行，内存泄漏问题，关了进程就回收系统分配给进程得内存

    安全：安全沙箱概念，沙箱里面的程序运行不能在硬盘写入数据，也没有系统权限。chrome把插件进程和渲染进程锁在沙箱里面

  ### 进程有多少个

    浏览器进程
    网络进程: 早期多进程浏览器没有此进程
    GPU进程： 早期多进程浏览器没有此进程
    渲染进程
    插件进程


浏览器进程

    负责界面显示，用户交互，子进程管理，存储等功能

网络进程

    负责页面的网络资源加载，之前是在浏览器进程中现在分离出来了。

GPU进程

    刚开始没有GPU线程，GPU主要是实现3d、css效果，后面页面ui基本都采用GPU绘制，GPU就独立出来了

渲染进程

    负责html、css、JavaScript转换成用户可以与之交互的网页，排版引擎Blink和JavaScript引擎V8都运行在此，默认情况一个tab一个渲染引擎，渲染引擎是在安全沙箱中。

插件进程

    负责插件运行，插件崩溃容易导致进程崩溃，所以需要单独得插件进程隔离，插件进程也是在安全沙箱中。

目前浏览器问题：

    1. 高资源占用：每个进程都会包含公共基础结构得副本（js运行环境），这就意味着浏览器需要更多得内存资源

    2.复杂的架构：浏览器模块耦合性高，扩展性差，导致现在的架构难适应新的需求



    为什么进程是多个？
    IPC是个啥？
    面向服务架构（SOA）？

    浏览器当前架构的问题？
     Chrome试图应用到更多业务场景，如移动设备、VR、视频等，为了支持这些场景，Chrome的架构体系变得越来越复杂



# TCP协议
